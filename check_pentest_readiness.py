#!/usr/bin/env python3
# -*- coding: utf-8 -*-
"""
–î–µ—Ç–∞–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ –≥–æ—Ç–æ–≤–Ω–æ—Å—Ç–∏ –∫ –ø–µ–Ω—Ç–µ—Å—Ç—É
"""
import paramiko
import sys

if sys.platform == 'win32':
    import codecs
    sys.stdout = codecs.getwriter('utf-8')(sys.stdout.buffer, 'strict')
    sys.stderr = codecs.getwriter('utf-8')(sys.stderr.buffer, 'strict')

SERVER_HOST = "72.56.79.153"
SERVER_USER = "root"
SERVER_PASSWORD = "m8J@2_6whwza6U"
SERVER_PORT = 22

def connect_to_server():
    ssh = paramiko.SSHClient()
    ssh.set_missing_host_key_policy(paramiko.AutoAddPolicy())
    try:
        ssh.connect(hostname=SERVER_HOST, port=SERVER_PORT, username=SERVER_USER, password=SERVER_PASSWORD, timeout=10)
        return ssh
    except Exception as e:
        print(f"[ERROR] –û—à–∏–±–∫–∞ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è: {e}")
        return None

def main():
    print("=" * 70)
    print("–î–ï–¢–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê –ì–û–¢–û–í–ù–û–°–¢–ò –ö –ü–ï–ù–¢–ï–°–¢–£")
    print("=" * 70)
    
    ssh = connect_to_server()
    if not ssh:
        return
    
    try:
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ nuclei-templates
        print("\n1. –ü–†–û–í–ï–†–ö–ê NUCLEI-TEMPLATES")
        print("-" * 70)
        commands = [
            ("–í –∫–æ—Ä–Ω–µ–≤–æ–π –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏–∏", "ls -d /root/nuclei-templates 2>/dev/null && echo '–ù–ê–ô–î–ï–ù–û' || echo '–ù–ï –ù–ê–ô–î–ï–ù–û'"),
            ("–í shannon-uncontained", "ls -d shannon-uncontained/nuclei-templates 2>/dev/null && echo '–ù–ê–ô–î–ï–ù–û' || echo '–ù–ï –ù–ê–ô–î–ï–ù–û'"),
            ("–†–∞–∑–º–µ—Ä nuclei-templates", "du -sh /root/nuclei-templates 2>/dev/null || echo '–ù–ï –ù–ê–ô–î–ï–ù–û'"),
        ]
        
        for desc, cmd in commands:
            stdin, stdout, stderr = ssh.exec_command(cmd)
            result = stdout.read().decode('utf-8').strip()
            print(f"{desc}: {result}")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ npm
        print("\n2. –ü–†–û–í–ï–†–ö–ê NPM")
        print("-" * 70)
        stdin, stdout, stderr = ssh.exec_command("which npm || echo '–ù–ï –ù–ê–ô–î–ï–ù–û'; npm --version 2>/dev/null || echo ''")
        npm_result = stdout.read().decode('utf-8').strip()
        print(f"NPM: {npm_result if npm_result else '–ù–ï –ù–ê–ô–î–ï–ù–û'}")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ node
        print("\n3. –ü–†–û–í–ï–†–ö–ê NODE.JS")
        print("-" * 70)
        stdin, stdout, stderr = ssh.exec_command("node --version")
        node_version = stdout.read().decode('utf-8').strip()
        print(f"Node.js –≤–µ—Ä—Å–∏—è: {node_version}")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ –º–æ–¥–µ–ª–∏ (—É—Ç–æ—á–Ω–µ–Ω–∏–µ –ø—Ä–æ Claude 4.5)
        print("\n4. –£–¢–û–ß–ù–ï–ù–ò–ï –ú–û–î–ï–õ–ò")
        print("-" * 70)
        print("‚ö†Ô∏è –í–ê–ñ–ù–û: Claude 4.5 Sonnet –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç!")
        print("–î–æ—Å—Ç—É–ø–Ω—ã–µ –º–æ–¥–µ–ª–∏ Anthropic:")
        print("  - claude-3-5-sonnet-20241022 (—Ç–µ–∫—É—â–∞—è, —Å–∞–º–∞—è –Ω–æ–≤–∞—è)")
        print("  - claude-3-opus-20240229")
        print("  - claude-3-sonnet-20240229")
        print("  - claude-3-haiku-20240307")
        print("\n‚úÖ –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è: claude-3-5-sonnet-20241022 (—ç—Ç–æ —Å–∞–º–∞—è –Ω–æ–≤–∞—è –∏ –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å)")
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ .env –µ—â–µ —Ä–∞–∑
        print("\n5. –§–ò–ù–ê–õ–¨–ù–ê–Ø –ü–†–û–í–ï–†–ö–ê .ENV")
        print("-" * 70)
        stdin, stdout, stderr = ssh.exec_command("cat shannon-uncontained/.env | grep -v '^#' | grep -v '^$'")
        env_content = stdout.read().decode('utf-8').strip()
        print(env_content)
        
        # –ü—Ä–æ–≤–µ—Ä–∫–∞ —á—Ç–æ –∫–æ–¥ –ø—Ä–∞–≤–∏–ª—å–Ω–æ –Ω–∞—Å—Ç—Ä–æ–µ–Ω
        print("\n6. –ü–†–û–í–ï–†–ö–ê –ö–û–î–ê")
        print("-" * 70)
        stdin, stdout, stderr = ssh.exec_command("grep -A 5 \"case 'anthropic':\" shannon-uncontained/src/ai/llm-client.js | head -7")
        anthropic_case = stdout.read().decode('utf-8').strip()
        print(anthropic_case)
        
        # –ò—Ç–æ–≥–æ–≤—ã–π —Å—Ç–∞—Ç—É—Å
        print("\n" + "=" * 70)
        print("–ò–¢–û–ì–û–í–´–ô –°–¢–ê–¢–£–°")
        print("=" * 70)
        print("\n‚úÖ Claude API –Ω–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≥–æ—Ç–æ–≤ –∫ —Ä–∞–±–æ—Ç–µ")
        print("‚úÖ –ú–æ–¥–µ–ª—å: Claude 3.5 Sonnet (—Å–∞–º–∞—è –Ω–æ–≤–∞—è –¥–æ—Å—Ç—É–ø–Ω–∞—è)")
        print("‚úÖ API –∫–ª—é—á: –ù–∞—Å—Ç—Ä–æ–µ–Ω –∏ –≤–∞–ª–∏–¥–µ–Ω")
        print("‚úÖ Anthropic SDK: –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω –∏ —Ä–∞–±–æ—Ç–∞–µ—Ç")
        print("\nüìù –ü—Ä–∏–º–µ—á–∞–Ω–∏–µ: Claude 4.5 Sonnet –µ—â–µ –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.")
        print("   –ò—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è Claude 3.5 Sonnet - —ç—Ç–æ —Å–∞–º–∞—è –º–æ—â–Ω–∞—è –º–æ–¥–µ–ª—å –Ω–∞ –¥–∞–Ω–Ω—ã–π –º–æ–º–µ–Ω—Ç.")
        print("\nüöÄ –ì–û–¢–û–í –ö –ü–ï–ù–¢–ï–°–¢–£!")
        
    finally:
        ssh.close()

if __name__ == "__main__":
    main()

